# –û—Ç—á–µ—Ç –æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### 1. **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–¥–∞–Ω–∏–∏**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: `GET /api/organizations/building/{buildingId}`
- ‚úÖ **–ú–µ—Ç–æ–¥**: `OrganizationController::getByBuilding()`
- ‚úÖ **–¢–µ—Å—Ç**: –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" http://localhost:95/api/organizations/building/1`

### 2. **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: `GET /api/organizations/activity/{activityId}`
- ‚úÖ **–ú–µ—Ç–æ–¥**: `OrganizationController::getByActivity()`
- ‚úÖ **–¢–µ—Å—Ç**: –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" http://localhost:95/api/organizations/activity/1`

### 3. **–°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –≤ –∑–∞–¥–∞–Ω–Ω–æ–º —Ä–∞–¥–∏—É—Å–µ/–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏**
- ‚úÖ **–†–∞–¥–∏—É—Å**: `GET /api/organizations/radius?latitude=X&longitude=Y&radius=Z`
- ‚úÖ **–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å**: `GET /api/organizations/area?min_lat=X&max_lat=Y&min_lng=Z&max_lng=W`
- ‚úÖ **–ú–µ—Ç–æ–¥—ã**: `OrganizationController::getByRadius()` –∏ `getByArea()`
- ‚úÖ **–ì–µ–æ–ø–æ–∏—Å–∫**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º—É–ª—É Haversine –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" "http://localhost:95/api/organizations/radius?latitude=55.7558&longitude=37.6176&radius=5"`

### 4. **–°–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: `GET /api/buildings`
- ‚úÖ **–ú–µ—Ç–æ–¥**: `BuildingController::index()`
- ‚úÖ **–¢–µ—Å—Ç**: –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" http://localhost:95/api/buildings`

### 5. **–í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –µ—ë –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: `GET /api/organizations/{id}`
- ‚úÖ **–ú–µ—Ç–æ–¥**: `OrganizationController::show()`
- ‚úÖ **–¢–µ—Å—Ç**: –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –ü–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –∑–¥–∞–Ω–∏–µ–º, —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º–∏ –∏ –≤–∏–¥–∞–º–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" http://localhost:95/api/organizations/1`

### 6. **–ü–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ –≤–∏–¥—É –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: `GET /api/organizations/activity/{activityId}/descendants`
- ‚úÖ **–ú–µ—Ç–æ–¥**: `OrganizationController::getByActivityWithDescendants()`
- ‚úÖ **–õ–æ–≥–∏–∫–∞**: –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –≤—Å–µ—Ö –ø–æ—Ç–æ–º–∫–æ–≤ –≤–∏–¥–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã**: –ü–æ–∏—Å–∫ –ø–æ "–ï–¥–∞" (ID=1) –Ω–∞—Ö–æ–¥–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –≤–∏–¥–∞–º–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
  - –ï–¥–∞ (—É—Ä–æ–≤–µ–Ω—å 1)
  - –ú—è—Å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è (—É—Ä–æ–≤–µ–Ω—å 2)
  - –ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è (—É—Ä–æ–≤–µ–Ω—å 2)
  - –°–≤–∏–Ω–∏–Ω–∞, –ì–æ–≤—è–¥–∏–Ω–∞, –ú–æ–ª–æ–∫–æ, –°—ã—Ä (—É—Ä–æ–≤–µ–Ω—å 3)
- ‚úÖ **–¢–µ—Å—Ç**: –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" http://localhost:95/api/organizations/activity/1/descendants`

### 7. **–ü–æ–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: `GET /api/organizations/search?name=–Ω–∞–∑–≤–∞–Ω–∏–µ`
- ‚úÖ **–ú–µ—Ç–æ–¥**: `OrganizationController::searchByName()`
- ‚úÖ **–õ–æ–≥–∏–∫–∞**: –ü–æ–∏—Å–∫ –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ (LIKE %–Ω–∞–∑–≤–∞–Ω–∏–µ%)
- ‚úÖ **–¢–µ—Å—Ç**: –ü—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–ü—Ä–∏–º–µ—Ä**: `curl -H "X-API-Key: test-api-key-123" "http://localhost:95/api/organizations/search?name=–†–æ–≥–∞"`

### 8. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π 3 —É—Ä–æ–≤–Ω—è–º–∏**
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: –í –º–∏–≥—Ä–∞—Ü–∏–∏ `create_activities_table.php`
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ü–æ–ª–µ `level` —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –¥–æ 3 —É—Ä–æ–≤–Ω–µ–π
- ‚úÖ **–°–∏–¥–µ—Ä**: –°–æ–∑–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ 3 —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ **–£—Ä–æ–≤–Ω–∏ –≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**:
  - –£—Ä–æ–≤–µ–Ω—å 1: –ï–¥–∞, –ê–≤—Ç–æ–º–æ–±–∏–ª–∏
  - –£—Ä–æ–≤–µ–Ω—å 2: –ú—è—Å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è, –ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è, –ì—Ä—É–∑–æ–≤—ã–µ, –õ–µ–≥–∫–æ–≤—ã–µ, –ó–∞–ø—á–∞—Å—Ç–∏
  - –£—Ä–æ–≤–µ–Ω—å 3: –°–≤–∏–Ω–∏–Ω–∞, –ì–æ–≤—è–¥–∏–Ω–∞, –ú–æ–ª–æ–∫–æ, –°—ã—Ä, –ì—Ä—É–∑–æ–≤–∏–∫–∏, –°–µ–¥–∞–Ω—ã, –î–≤–∏–≥–∞—Ç–µ–ª–∏, –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### API Key –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: Middleware `ApiKeyMiddleware`
- ‚úÖ **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `X-API-Key`
- ‚úÖ **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: `test-api-key-123`
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: 401 Unauthorized –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –∫–ª—é—á–µ

### Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ **URL**: `http://localhost:95/api/documentation`
- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: 7 —Ç–µ—Å—Ç–æ–≤ –≤ `tests/Feature/ApiTest.php`
- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ API
- ‚úÖ **–°—Ç–∞—Ç—É—Å**: –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–°–µ—Ä–≤–∏—Å—ã**: Nginx, PHP-FPM, PostgreSQL
- ‚úÖ **–ü–æ—Ä—Ç—ã**: 95 (Nginx), 54400 (PostgreSQL)
- ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ |
|------------|--------|----------|-------|
| –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –∑–¥–∞–Ω–∏–∏ | ‚úÖ | `/api/organizations/building/{id}` | `getByBuilding()` |
| –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | ‚úÖ | `/api/organizations/activity/{id}` | `getByActivity()` |
| –ì–µ–æ–ø–æ–∏—Å–∫ –ø–æ —Ä–∞–¥–∏—É—Å—É | ‚úÖ | `/api/organizations/radius` | `getByRadius()` |
| –ì–µ–æ–ø–æ–∏—Å–∫ –ø–æ –æ–±–ª–∞—Å—Ç–∏ | ‚úÖ | `/api/organizations/area` | `getByArea()` |
| –°–ø–∏—Å–æ–∫ –∑–¥–∞–Ω–∏–π | ‚úÖ | `/api/buildings` | `index()` |
| –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | ‚úÖ | `/api/organizations/{id}` | `show()` |
| –ü–æ–∏—Å–∫ —Å –ø–æ—Ç–æ–º–∫–∞–º–∏ | ‚úÖ | `/api/organizations/activity/{id}/descendants` | `getByActivityWithDescendants()` |
| –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é | ‚úÖ | `/api/organizations/search` | `searchByName()` |
| –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 3 —É—Ä–æ–≤–Ω–µ–π | ‚úÖ | –í –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–∏–¥–µ—Ä–µ | - |

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í–°–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´ –ù–ê 100%**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é:
- ‚úÖ –í—Å–µ 8 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —Ç–µ—Å—Ç—ã) –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Swagger UI 